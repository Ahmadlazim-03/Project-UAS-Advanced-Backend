import{f as q,a as P}from"../chunks/Cmu9DQIa.js";import{p as me,o as ue,c as s,s as e,d as r,t as R,a as ce,g as a,u as pe,b as n,r as i}from"../chunks/CziYcT8N.js";import{d as ve,s as W,e as I}from"../chunks/D7KH9V-l.js";import{i as J}from"../chunks/CAhqGc99.js";import{r as f}from"../chunks/ktb937c3.js";import{s as K}from"../chunks/CeFxQ_S_.js";import{b as g}from"../chunks/Do9sIj_i.js";import{b as be}from"../chunks/BvI8bicD.js";import{s as fe,a as ge}from"../chunks/BmnBliu1.js";import{a as O}from"../chunks/CecYYC_m.js";import{a as Q}from"../chunks/CcZuglA2.js";import{g as T}from"../chunks/PtiWvk7M.js";var _e=q('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"> </div>'),ye=q('<form class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Username</label> <input type="text" required class="input" placeholder="Enter username"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Password</label> <input type="password" required class="input" placeholder="Enter password"/></div> <button type="submit" class="w-full btn btn-primary"> </button></form>'),xe=q('<form class="space-y-4"><div><label class="block text-sm font-medium text-gray-700 mb-1">Username</label> <input type="text" required class="input" placeholder="Choose username"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Email</label> <input type="email" required class="input" placeholder="your.email@example.com"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label> <input type="text" required class="input" placeholder="Your full name"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Password</label> <input type="password" required class="input" placeholder="Choose password"/></div> <div><label class="block text-sm font-medium text-gray-700 mb-1">Role</label> <select class="input"><option>Mahasiswa</option><option>Dosen Wali</option><option>Admin</option></select></div> <button type="submit" class="w-full btn btn-primary"> </button></form>'),he=q('<div class="min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-primary-50 to-primary-100"><div class="card max-w-md w-full p-8 shadow-xl"><div class="text-center mb-8"><div class="w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg></div> <h1 class="text-3xl font-bold text-gray-800">Achievement System</h1> <p class="text-gray-600 mt-2">Manage your academic achievements</p></div> <div class="flex border-b border-gray-200 mb-6"><button>Login</button> <button>Register</button></div> <!> <!></div></div>');function Se(V,X){me(X,!0);const Z=()=>ge(Q,"$authStore",ee),[ee,te]=fe();let b=n(!0),u=n(!1),o=n(""),N=n(""),$=n(""),x=n(""),h=n(""),w=n(""),k=n(""),L=n("Mahasiswa"),ae=pe(()=>Z().isAuthenticated);ue(()=>{a(ae)&&T("/dashboard")});async function re(l){l.preventDefault(),e(u,!0),e(o,"");try{const t=await O.login(a(N),a($));t.status==="success"&&t.data?(Q.login(t.data.token,t.data.user),T("/dashboard")):e(o,t.message||"Login failed",!0)}catch{e(o,"Network error. Please try again.")}finally{e(u,!1)}}async function se(l){l.preventDefault(),e(u,!0),e(o,"");try{const t=await O.register({username:a(x),email:a(h),fullName:a(w),password:a(k),roleName:a(L)});t.status==="success"?(alert("Registration successful! Please login."),e(b,!0),e(x,""),e(h,""),e(w,""),e(k,""),e(L,"Mahasiswa")):e(o,t.message||"Registration failed",!0)}catch{e(o,"Network error. Please try again.")}finally{e(u,!1)}}var A=he(),z=s(A),D=r(s(z),2),E=s(D);E.__click=()=>{e(b,!0),e(o,"")};var B=r(E,2);B.__click=()=>{e(b,!1),e(o,"")},i(D);var Y=r(D,2);{var ie=l=>{var t=_e(),d=s(t,!0);i(t),R(()=>W(d,a(o))),P(l,t)};J(Y,l=>{a(o)&&l(ie)})}var le=r(Y,2);{var oe=l=>{var t=ye(),d=s(t),_=r(s(d),2);f(_),i(d);var c=r(d,2),y=r(s(c),2);f(y),i(c);var p=r(c,2),M=s(p,!0);i(p),i(t),R(()=>{p.disabled=a(u),W(M,a(u)?"Loading...":"Login")}),I("submit",t,re),g(_,()=>a(N),v=>e(N,v)),g(y,()=>a($),v=>e($,v)),P(l,t)},ne=l=>{var t=xe(),d=s(t),_=r(s(d),2);f(_),i(d);var c=r(d,2),y=r(s(c),2);f(y),i(c);var p=r(c,2),M=r(s(p),2);f(M),i(p);var v=r(p,2),G=r(s(v),2);f(G),i(v);var S=r(v,2),U=r(s(S),2),C=s(U);C.value=C.__value="Mahasiswa";var j=r(C);j.value=j.__value="Dosen Wali";var H=r(j);H.value=H.__value="Admin",i(U),i(S);var F=r(S,2),de=s(F,!0);i(F),i(t),R(()=>{F.disabled=a(u),W(de,a(u)?"Loading...":"Register")}),I("submit",t,se),g(_,()=>a(x),m=>e(x,m)),g(y,()=>a(h),m=>e(h,m)),g(M,()=>a(w),m=>e(w,m)),g(G,()=>a(k),m=>e(k,m)),be(U,()=>a(L),m=>e(L,m)),P(l,t)};J(le,l=>{a(b)?l(oe):l(ne,!1)})}i(z),i(A),R(()=>{K(E,1,`flex-1 py-2 text-center font-medium transition ${a(b)?"border-b-2 border-primary-500 text-primary-600":"text-gray-500"}`),K(B,1,`flex-1 py-2 text-center font-medium transition ${a(b)?"text-gray-500":"border-b-2 border-primary-500 text-primary-600"}`)}),P(V,A),ce(),te()}ve(["click"]);export{Se as component};
