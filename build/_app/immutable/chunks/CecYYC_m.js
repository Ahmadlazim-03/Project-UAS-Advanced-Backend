import{a as o}from"./CcZuglA2.js";import{I as a}from"./CziYcT8N.js";const h="/api/v1";async function t(e,s={}){const i=a(o),n={"Content-Type":"application/json"};if(s.headers){const c=s.headers;Object.assign(n,c)}return i.token&&(n.Authorization=`Bearer ${i.token}`),(await fetch(`${h}${e}`,{...s,headers:n})).json()}const u={login:(e,s)=>t("/auth/login",{method:"POST",body:JSON.stringify({username:e,password:s})}),register:e=>t("/auth/register",{method:"POST",body:JSON.stringify(e)}),getAchievements:()=>t("/achievements"),getAchievement:e=>t(`/achievements/${e}`),createAchievement:e=>t("/achievements",{method:"POST",body:JSON.stringify(e)}),updateAchievement:(e,s)=>t(`/achievements/${e}`,{method:"PUT",body:JSON.stringify(s)}),deleteAchievement:e=>t(`/achievements/${e}`,{method:"DELETE"}),submitAchievement:e=>t(`/achievements/${e}/submit`,{method:"POST"}),getPendingVerifications:()=>t("/verification/pending"),verifyAchievement:e=>t(`/achievements/${e}/verify`,{method:"POST"}),rejectAchievement:(e,s)=>t(`/achievements/${e}/reject`,{method:"POST",body:JSON.stringify({note:s})}),getAchievementHistory:e=>t(`/achievements/${e}/history`),uploadAttachment:(e,s)=>{const i=new FormData;i.append("file",s);const n=a(o);return fetch(`${h}/achievements/${e}/attachments`,{method:"POST",headers:{Authorization:`Bearer ${n.token}`},body:i}).then(r=>r.json())},getUsers:()=>t("/users"),getUser:e=>t(`/users/${e}`),updateUserRole:(e,s)=>t(`/users/${e}/role`,{method:"PUT",body:JSON.stringify({roleName:s})}),toggleUserStatus:e=>t(`/users/${e}/toggle-status`,{method:"PATCH"}),getStudents:()=>t("/students"),getStudent:e=>t(`/students/${e}`),getStudentAchievements:e=>t(`/students/${e}/achievements`),updateStudentAdvisor:(e,s)=>t(`/students/${e}/advisor`,{method:"PUT",body:JSON.stringify({advisorId:s})}),getLecturers:()=>t("/lecturers"),getLecturerAdvisees:e=>t(`/lecturers/${e}/advisees`),getStatistics:()=>t("/reports/statistics"),getStudentReport:e=>t(`/reports/student/${e}`)};export{u as a};
