import{ac as l}from"./CziYcT8N.js";const s={token:localStorage.getItem("token"),user:JSON.parse(localStorage.getItem("user")||"null"),isAuthenticated:!!localStorage.getItem("token")};function n(){const{subscribe:a,set:o,update:r}=l(s);return{subscribe:a,login:(t,e)=>{localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(e)),o({token:t,user:e,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),o({token:null,user:null,isAuthenticated:!1})},updateUser:t=>{localStorage.setItem("user",JSON.stringify(t)),r(e=>({...e,user:t}))}}}const c=n();export{c as a};
